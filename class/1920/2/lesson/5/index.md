[首頁] > [仁愛堂劉皇發夫人小學]

# 5. 宇宙飛船

前幾堂我們都做了不同類型的迷宮，相信大家都比較熟悉迷宮的概念了。那麼，我們現在終於到了下一個大家都比較期待的主題 ---- 我們從今堂開始，終於可以讓玩家發動攻擊了！

今堂的題目是宇宙飛船，玩法就是玩家是一艘飛船，需要發射子彈摧毀迎面而來的隕石，如果被隕石撞擊就會被扣生命值，當生命值見底就會死亡咯。

還記得我們要去哪裡寫程式嗎？是[這個程式網站]哦！

## 操作

既然這次需要讓玩家攻擊，那麼玩家的操作就不止方向鍵咯！以下是按鍵對應電腦鍵盤的位置：

1. A: Space / Z
2. B: Enter / X
3. 方向鍵： WASD / 上下左右

這次除了方向鍵，我們還會讓玩家按下**A**鍵哦！

## 起動

我們需要創建一個玩家，相信這個步驟大家都耳熟能詳了。

不同的是，這次的玩家代表角色是一艘飛船，在Gallery中往下拉就能找到咯。

另外還有幾個要注意的地方：

- 我們需要設置玩家的底部為最下方，因為一般這種遊戲的玩家位置都會在最下方的中間位置。
- 既然是宇宙飛船，我們的地點設置肯定在太空啊！
- 一開始我們還需要給玩家提供重要信息，比如**生命值和分數**都需要顯示在畫面上。

所以，第一步就會是以下的樣子咯：
![step1]

## 創建玩家子彈

既然玩家需要發動攻擊，那麼我們就要幫玩家創造子彈咯！那麼，具體應該怎麼創造呢？

我們需要一個**事件**（還記得事件是什麼嗎？），這個事件是**當玩家按下A鍵時**，我們就創建子彈，邏輯也很簡單，就像以下這些代碼一樣：

![step2]

我們創建變數projectile為**發射物**（切記！！一定要拿正確的方塊哦，不是我們平常創建遊戲玩家的那個方塊哦！）。由於發射物是從玩家發射出去的，所以發射物需要來自玩家。

至於速度方面，vx我們設置為0，因為我們只想讓子彈直行飛出去，並不會左右位移。而vy我們設置了一個負數，為什麼呢？因為如果我們設置vy為正數，子彈就會往下飛出去，這不是我們想要的效果，我們想讓子彈往上飛，來摧毀在上方飛下來的隕石，所以我們設置了負數來讓子彈往上飛。

> 負數
>
> 在一條數線上，我們有 0 這個點，在0的右方是我們熟悉的**正數數字**，那麼在0的左方，就是**負數**，用於代表小於0的數字，負數通常帶有負號（-）來代表自己小於0。
> ![negative]

> 速度（velocity）
>
> 速度用來代表一件物品每秒行走的平均距離，換句話說：速度 = 距離 / 時間。

## 創建隕石

這個遊戲沒有隕石怎麼能完成！所以下面我們就來創建隕石。

我們想讓遊戲**每更新500毫秒時**，自動創建一個隕石。代碼如下：

![step3]

上面兩句代碼，相信看了剛剛的解釋，都略明一二了，最後一行又是什麼呢？

這句代碼的意思是，我們把剛剛創建好的隕石，把它的橫向位置設成隨機，不然的話如果不是隨機的位置，玩家玩這個遊戲的時候也會覺得無聊，因為隕石基本上是在同一個位置產生，變得很有預判性。

## 撞擊事件

撞擊事件也是之前課堂上一直在做的事情，所以我們可以直接看代碼。

我們這次有兩件撞擊事件，第一個是**玩家撞擊隕石**，第二個是**子彈撞擊隕石**：

![step4]

基本上就是撞擊完了，把該刪除的東西刪除了，然後給出得分或者扣血，就這麼簡單。

## 完成

整個遊戲的代碼是這樣的：

![full]

<!-- links -->
[首頁]: ../../../../../index.md
[仁愛堂劉皇發夫人小學]: ../../index.md
[這個程式網站]: https://arcade.makecode.com

[step1]: ./resource/step1.png
[step2]: ./resource/step2.png
[step3]: ./resource/step3.png
[step4]: ./resource/step4.png
[full]: ./resource/full.png

[negative]: ./resource/negative.jpg